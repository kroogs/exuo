(this.webpackJsonpexuo=this.webpackJsonpexuo||[]).push([[0],{103:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(21),o=n(0),r=n.n(o),i=n(51),c=n(292),l=n(289),u=n(290),s=n(30),d=n(28),f=n(22),m=n(15),g=function(e){var t=e.id,n=r.a.useState(null),o=Object(a.a)(n,2),g=o[0],h=o[1],p=r.a.useState(!1),v=Object(a.a)(p,2),b=v[0],E=v[1],y=Object(s.c)();return Object(m.j)((function(e){return r.a.createElement(d.a,null,r.a.createElement(i.a,{align:"center"},"Someone wants to share content with you.",r.a.createElement("br",null),"Do not accept if you do not trust them."),r.a.createElement(c.a,{mt:1,textAlign:"center"},g?r.a.createElement(i.a,{color:"error"},g):r.a.createElement(l.a,{disabled:b,onClick:function(){E(!0),e.seekPeerConnection(t).then((function(e){y(Object(f.b)("/node/".concat(e.id)))})).catch((function(e){h(e)}))},color:"primary"},b?r.a.createElement(u.a,{size:24}):"Accept")))}))}},104:function(e,t){},15:function(e,t,n){"use strict";n.d(t,"j",(function(){return o})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return s})),n.d(t,"b",(function(){return V})),n.d(t,"a",(function(){return J})),n.d(t,"c",(function(){return K})),n.d(t,"d",(function(){return le})),n.d(t,"e",(function(){return de})),n.d(t,"f",(function(){return ke})),n.d(t,"g",(function(){return xe}));var a=n(49),o=function(e){return Object(a.c)((function(t){return e(t.graph)}))},r=n(57),i=n(169),c=n(5),l=n(321),u=function(e){return c.h.model("EdgeMap",{edgeMap:c.h.map(c.h.array(c.h.safeReference(c.h.late(e),{acceptsUndefined:!1})))}).actions((function(e){return{hasEdge:function(t,n){var a,o;return n?Boolean(null===(a=e.edgeMap.get(t))||void 0===a?void 0:a.includes(n)):Boolean(null===(o=e.edgeMap.get(t))||void 0===o?void 0:o.length)}}})).actions((function(e){return{addEdge:function(t,n){var a;e.edgeMap.has(t)||e.edgeMap.set(t,[]),null===(a=e.edgeMap.get(t))||void 0===a||a.push(n)},removeEdge:function(t,n){var a;if(!(null===(a=e.edgeMap.get(t))||void 0===a?void 0:a.remove(n)))throw Error("Node '".concat(e,"' has no '").concat(t,"' edge for '").concat(n,"'"))}}})).views((function(e){return{getEdgeTag:function(t){return e.edgeMap.get(t)}}}))},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return c.h.compose.apply(c.h,Object(i.a)([c.h.model({id:c.h.identifier})].concat(e))).named("Node")},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c.h.model("Graph",Object.fromEntries(Object.keys(e).map((function(t){var n=e[t];if(Object(c.e)(n)&&Object(c.d)(n.properties.id))return[t,c.h.map(e[t])];throw Error("Model '".concat(t,"' requires 'id' identifier"))})))).actions((function(n){return{createNode:function(){var a,o,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Node",c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e[i])throw Error("No model named '".concat(i,"'"));var u=e[i].create(Object(r.a)({id:null!==(a=null===(o=t.getId)||void 0===o?void 0:o.call(t))&&void 0!==a?a:Object(l.a)()},c));return n[i].put(u),u}}}))},f=s(u((function(){return f}))),m=(d({Node:f}),n(74)),g=n(83),h=c.h.model("Note",{body:c.h.string}).actions((function(e){return{setBody:function(t){e.body=t}}})),p=n(21),v=n(0),b=n.n(v),E=(n(311),n(289)),y=n(309),j=n(324),w=n(310),N=n(292),O=n(157),C=n.n(O),k=n(156),x=n.n(k),M=n(158),S=n.n(M),B=n(159),A=n.n(B),I=n(160),P=n.n(I),T=n(161),R=n.n(T),L=n(154),W=n.n(L),D=n(155),U=n.n(D);n(36),n(98),W.a,U.a,x.a,C.a,S.a,A.a,P.a,R.a;Object(y.a)((function(e){return Object(j.a)({root:{},input:{height:"300px",padding:e.spacing(0,2,0,2)},toolbar:{padding:e.spacing(0,2,0,2)}})}));var F=s(g.a),z=s(h),G=s([u((function(){return c.h.union(c.h.late((function(){return G})),F,z)}))]).props({label:c.h.optional(c.h.string,"")}).actions((function(e){return{setLabel:function(t){e.label=t}}})).views((function(e){return{get childCount(){var t,n;return null!==(t=null===(n=e.edgeMap.get("child"))||void 0===n?void 0:n.length)&&void 0!==t?t:0},get createDate(){var t;return null===(t=e.events[0])||void 0===t?void 0:t.date}}})),V=d({Node:G,Config:F,Note:z}).actions((function(e){return{setActiveMode:function(t){var n=e.Config.get("system").get("activeModes");n&&!(null===n||void 0===n?void 0:n.includes(t))&&n.push(t)},unsetActiveMode:function(t){var n=e.Config.get("system").get("activeModes");(null===n||void 0===n?void 0:n.includes(t))&&n.remove(t)},toggleActiveMode:function(t){var n=e.Config.get("system").get("activeModes");n&&(n.includes(t)?(n.remove(t),"select"===t&&e.clearSelectedNodes()):n.push(t))}}})).actions((function(e){return{clearSelectedNodes:function(){var t;null===(t=e.Config.get("system").get("selectedNodes"))||void 0===t||t.clear()},deleteSelectedNodes:function(){var t;(null===(t=e.Config.get("system"))||void 0===t?void 0:t.get("selectedNodes")).forEach((function(t){return e.Node.delete(t)})),e.clearSelectedNodes(),0===e.selectedNodes.length&&e.unsetActiveMode("select")},toggleSelectNode:function(t){var n=e.Config.get("system").get("selectedNodes");(null===n||void 0===n?void 0:n.includes(t.id))?null===n||void 0===n||n.remove(t.id):null===n||void 0===n||n.push(t.id),0===n.length&&e.toggleActiveMode("select")},selectAllChildNodes:function(e){e.edgeMap.get("child").forEach((function(e){return console.log("child")}))}}})).actions((function(e){return{afterCreate:function(){Object(m.a)(e).then((function(){if(!e.Config.has("system")){var t=e.createNode("Node",{label:"Exuo"});e.createNode("Config",{id:"system",items:{rootNodeId:t.id,activeModes:[],selectedNodes:[]}}),e.createNode("Config",{id:"user",items:{global:{dividers:!1},lists:{checkbox:!1,dividers:!1,showChildCount:!0,showEdgeChips:!1}}})}}))},createChild:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Node",o=e.createNode(a,n);return t.addEdge("child",o),o.addEdge("parent",t),o},deleteNode:function(t){e.Node.delete(t.id)},toggleGlobalDividerSetting:function(){var t,n,a=null===(t=e.Config.get("user").get("global"))||void 0===t?void 0:t.get("dividers");null===(n=e.Config.get("user").get("global"))||void 0===n||n.set("dividers",!a)},toggleListCheckboxSetting:function(){var t,n,a=null===(t=e.Config.get("user").get("lists"))||void 0===t?void 0:t.get("checkbox");null===(n=e.Config.get("user").get("lists"))||void 0===n||n.set("checkbox",!a)}}})).views((function(e){return{get rootNode(){var t=e.Config.get("system");return t&&e.Node.get(t.get("rootNodeId"))},get activeModes(){var t=e.Config.get("system");return null===t||void 0===t?void 0:t.get("activeModes")},get selectedNodes(){var t;return null===(t=e.Config.get("system"))||void 0===t?void 0:t.get("selectedNodes")},get listCheckboxSetting(){var t,n;return null===(t=e.Config.get("user"))||void 0===t||null===(n=t.get("lists"))||void 0===n?void 0:n.get("checkbox")}}})),X=n(312),H=Object(y.a)((function(e){return Object(j.a)({list:{}})})),J=function(e){var t=e.node,n=e.edgeTag,a=(e.className,H());return o((function(e){var o;return b.a.createElement(X.a,{"aria-label":"edge list",className:a.list},null===(o=t.edgeMap.get(n))||void 0===o?void 0:o.slice().reverse().map((function(e){return b.a.createElement(ke,{node:e,key:"".concat(n,"-").concat(e.id)})})))}))},q=n(322),$=Object(y.a)((function(e){return Object(j.a)({root:{width:"100%",fontSize:0,padding:0},inputBase:{"& input":{lineHeight:"unset",padding:"3px 0 2px 0"}}})})),K=function(e){var t=e.label,n=(e.createMode,e.placeholder),a=e.className,r=e.onValue,i=$(),c=b.a.useState(null!==t&&void 0!==t?t:""),l=Object(p.a)(c,2),u=l[0],s=l[1];return o((function(e){var t=function(e){e.preventDefault();var t=null===r||void 0===r?void 0:r(u);void 0!==t&&s(t)};return b.a.createElement("form",{onSubmit:t,onBlur:t,className:[i.root,a].join(" ")},b.a.createElement(q.a,{autoFocus:!0,placeholder:n,inputProps:{"aria-label":"label"},onChange:function(e){s(e.target.value)},value:u,className:i.inputBase,fullWidth:!0}))}))};K.defaultProps={createMode:!1,placeholder:"Label"};var Q=n(163),Y=n.n(Q),Z=n(164),_=n.n(Z),ee=n(165),te=n.n(ee),ne=n(28),ae=n(162),oe=n.n(ae),re=Object(y.a)((function(e){return Object(j.a)({root:{},button:{color:e.palette.action.active},deleteButton:{color:e.palette.error.main}})})),ie=function(){var e=re();return o((function(t){return b.a.createElement("div",{className:e.root},b.a.createElement(E.a,{startIcon:b.a.createElement(oe.a,null),disabled:!t.selectedNodes.length||void 0,className:[e.button,e.deleteButton].join(" "),onClick:function(){return t.deleteSelectedNodes()}},"Delete"))}))},ce=Object(y.a)((function(e){return Object(j.a)({root:{justifyContent:"center"},button:{},labelEditor:{width:"100%"}})})),le=function(e){var t=e.node,n=e.className,a=ce(),r=b.a.useState("normal"),i=Object(p.a)(r,2),c=i[0],l=i[1];return o((function(e){var o=(null===t||void 0===t?void 0:t.childCount)>0;return b.a.createElement(w.a,{variant:"dense",className:[a.root,n].join(" ")},"normal"===c&&!e.activeModes.includes("select")&&b.a.createElement(b.a.Fragment,null,b.a.createElement(E.a,{startIcon:b.a.createElement(Y.a,null),onClick:function(){return l("add")},className:a.button},"new"),o&&b.a.createElement(E.a,{startIcon:b.a.createElement(_.a,null),onClick:function(){return e.toggleActiveMode("edit")},color:e.activeModes.includes("edit")?"primary":"default",className:a.button},"edit"),Object(ne.d)()||b.a.createElement(E.a,{disabled:!0,startIcon:b.a.createElement(te.a,null),onClick:function(){e.activeModes.includes("share")?e.closePeerConnection():e.offerPeerConnection(t)},color:e.activeModes.includes("share")?"primary":"default",className:a.button},"share")),"normal"===c&&e.activeModes.includes("select")&&b.a.createElement(ie,null),"add"===c&&b.a.createElement(K,{placeholder:"Label",onValue:function(n){if(n)return e.createChild(t,{label:n}),"";l("normal")},className:a.labelEditor}),!1,!1)}))},ue=n(325),se=Object(y.a)((function(e){return Object(j.a)({root:{},actions:{width:"100%",textAlign:"center",color:e.palette.text.secondary,backgroundColor:e.palette.background.default,padding:e.spacing(0,2,0,2)},children:{marginTop:-e.spacing(1)}})})),de=function(e){var t=e.node,n=e.className,a=e.children,r=se();return o((function(e){return b.a.createElement(N.a,{className:[r.root,n].join(" ")},b.a.createElement(ue.a,{elevation:0,position:"sticky"},b.a.createElement(ne.b,{title:t.label}),b.a.createElement(le,{node:t,className:r.actions})),b.a.createElement(N.a,{className:r.children},a))}))},fe=n(85),me=n(46),ge=n(326),he=n(323),pe=n(315),ve=n(316),be=n(327),Ee=n(82),ye=n.n(Ee),je=n(166),we=n.n(je),Ne=n(30),Oe=n(22),Ce=Object(y.a)((function(e){return Object(j.a)({root:{},listItem:Object(me.a)({"&:hover":{color:e.palette.primary.main},"&.MuiListItem-button":{backgroundColor:"unset"}},e.breakpoints.up("sm"),{borderRadius:e.shape.borderRadius}),itemText:Object(r.a)({display:"inline-block",margin:0,overflowX:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},e.typography.body1),listItemSelectCheckbox:{padding:e.spacing(0,1,0,1),"&:hover, &.Mui-checked:hover":{backgroundColor:"unset"}},listItemIcon:{minWidth:"auto"},editItemText:Object(r.a)({display:"inline-block",margin:0,overflowX:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},e.typography.body1),chip:{pointerEvents:"auto",color:e.palette.text.hint,backgroundColor:"transparent","&:hover":{color:e.palette.primary.main,cursor:"auto"},"& svg":{pointerEvents:"auto",color:"inherit"},"&:last-child .MuiChip-label":{paddingRight:0}},secondaryActions:{right:0,color:e.palette.text.secondary},childButton:{color:e.palette.text.secondary,"&:hover, &:focus":{color:e.palette.primary.main,background:"inherit"}}})})),ke=function(e){var t=e.node,n=(Object(fe.a)(e,["node"]),Ce()),a=Object(Ne.c)(),r=b.a.useState(!1),i=Object(p.a)(r,2),c=i[0],l=i[1],u=b.a.useRef(!1),s=b.a.useRef();return o((function(e){var o,r=null===(o=e.Config.get("user"))||void 0===o?void 0:o.get("lists"),i=null===r||void 0===r?void 0:r.get("showChildCount"),d=null===r||void 0===r?void 0:r.get("showEdgeChips"),f=function(n){u.current=!0,n.persist(),s.current=setTimeout((function(){n.preventDefault(),u.current=!1,s.current&&clearTimeout(s.current),e.toggleActiveMode("select"),e.activeModes.includes("select")&&e.toggleSelectNode(t)}),390)},m=function(n){u.current&&(e.activeModes.includes("select")?e.toggleSelectNode(t):e.activeModes.includes("edit")?l(!0):a(Object(Oe.b)("/node/".concat(t.id))),u.current=!1,s.current&&clearTimeout(s.current))},g=e.selectedNodes.includes(t.id);return b.a.createElement(ge.a,{button:!0,disableRipple:!0,onMouseDown:f,onTouchStart:f,onMouseUp:m,onTouchEnd:m,component:"li",className:n.listItem},e.activeModes.includes("select")&&b.a.createElement(he.a,{checked:g,tabIndex:-1,color:"primary",edge:"start",className:n.listItemSelectCheckbox}),c?b.a.createElement(K,{label:t.label,onValue:function(e){t.setLabel(e),l(!1)}}):b.a.createElement(pe.a,{primary:t.label,primaryTypographyProps:{display:"inline"},className:n.itemText}),b.a.createElement(ve.a,{className:n.secondaryActions},d&&b.a.createElement(b.a.Fragment,null,b.a.createElement(be.a,{label:t.childCount,icon:b.a.createElement(ye.a,null),size:"small",to:Object(Oe.b)("/node/".concat(t.id,"/")),component:Ne.a,className:n.chip})),i&&!d&&t.childCount>0&&b.a.createElement(E.a,{endIcon:b.a.createElement(we.a,null),to:Object(Oe.b)("/node/".concat(t.id,"/")),component:Ne.a,className:n.childButton},t.childCount)))}))},xe=function(e){var t=e.id;return Object(a.c)((function(e){var n=e.graph.rootNode,a=e.graph.Node.get(t);return a&&(n=a),n?b.a.createElement(de,{node:n},b.a.createElement(J,{node:n,edgeTag:"child"})):null}))}},150:function(e,t,n){"use strict";var a=n(103);n.d(t,"PeerConnector",(function(){return a.a}));n(104)},176:function(e,t,n){e.exports=n(287)},22:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return f}));var a=n(85),o=n(0),r=n.n(o),i=n(30),c=n(15),l=n(150),u=n(83);function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"/exuo"+e}var d=function(e){var t=e.component,n=Object(a.a)(e,["component"]);return r.a.createElement(t,n)},f=function(){return Object(c.j)((function(e){return e.rootNode?r.a.createElement(i.b,{basepath:"/exuo"},r.a.createElement(d,{path:"/",component:c.g}),r.a.createElement(d,{path:":type/:id",component:c.g}),r.a.createElement(d,{path:"peer/:id",component:l.PeerConnector}),r.a.createElement(d,{path:"settings",component:u.b})):null}))}},28:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return N})),n.d(t,"d",(function(){return O}));var a=n(0),o=n.n(a),r=n(292),i=n(325),c=n(309),l=n(324),u=Object(c.a)((function(e){return Object(l.a)({root:{},appBar:{},actions:{width:"100%",textAlign:"center",color:e.palette.text.secondary,backgroundColor:e.palette.background.default,padding:e.spacing(0,2,0,2)},children:{}})})),s=function(e){var t=e.title,n=e.actions,a=e.className,c=e.children,l=u();return o.a.createElement(r.a,{className:[l.root,a].join(" ")},o.a.createElement(i.a,{elevation:0,position:"sticky",className:l.appBar},o.a.createElement(N,{title:t}),n),o.a.createElement(r.a,{className:l.children},c))},d=n(5),f=d.h.union(d.h.null,d.h.boolean,d.h.string,d.h.number,d.h.array(d.h.late((function(){return f}))),d.h.map(d.h.late((function(){return f})))),m=n(310),g=n(311),h=n(51),p=n(151),v=n.n(p),b=n(152),E=n.n(b),y=n(30),j=n(22),w=Object(c.a)((function(e){return Object(l.a)({root:{color:e.palette.text.secondary,backgroundColor:e.palette.background.default,padding:e.spacing(0,2,0,2)},backButton:{"&[disabled]":{visibility:"hidden",pointerEvents:"none"}},hide:{visibility:"hidden",mouseEvents:"none"},settingsButton:{},title:{flexGrow:1,textAlign:"center",overflowX:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",color:e.palette.text.primary}})})),N=function(e){var t=e.title,n=e.showBackButton,a=e.showSettingsButton,r=e.className,i=(e.children,w());return o.a.createElement(m.a,{variant:"dense",className:[i.root,r].join(" ")},o.a.createElement(g.a,{disabled:O(),edge:"start","aria-label":"back",onClick:function(){return window.history.back()},className:[i.backButton,n?"":i.hide].join(" ")},o.a.createElement(v.a,null)),t&&o.a.createElement(h.a,{variant:"h6",className:i.title},t),o.a.createElement(g.a,{disabled:!0,edge:"end",component:y.a,to:Object(j.b)("/settings"),"aria-label":"settings",className:[i.settingsButton,a?"":i.hide].join(" ")},o.a.createElement(E.a,{fontSize:"small"})))};N.defaultProps={title:"Exuo",showBackButton:!0,showSettingsButton:!1};var O=function(){return window.location.pathname===Object(j.b)("/")||window.location.pathname===Object(j.b)()}},287:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(27),i=n.n(r),c=(n(181),n(49)),l=n(168),u=n(319),s=n(318),d=n(320),f=function(e){var t=e.children,n=Object(s.a)("(prefers-color-scheme: dark)"),a=o.a.useMemo((function(){return Object(l.a)({typography:{fontFamily:["-apple-system","system-ui","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif"].join(", ")},palette:{type:n?"dark":"light",primary:{main:"#f94d94"},background:{default:n?"#000000":"#ffffff"},text:{primary:n?"rgba(255, 255, 255, .75)":"rgba(0, 0, 0, .75)"}},shape:{borderRadius:6},props:{MuiButton:{disableElevation:!0}},overrides:{MuiCssBaseline:{"@global":{html:{userSelect:"none",overscrollBehavior:"none","-webkit-touch-callout":"none",maxWidth:"600px",margin:"auto","&, & body":{height:"100%"}}}}}})}),[n]);return o.a.createElement(u.a,{theme:a},o.a.createElement(d.a,null),t)},m=n(22),g=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function h(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(c.a,null,o.a.createElement(f,null,o.a.createElement(m.a,null)))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/exuo",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/exuo","/service-worker.js");g?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):h(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):h(t,e)}))}}()},49:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return m}));var a=n(0),o=n.n(a),r=n(15),i=(n(312),n(326),n(315),n(309)),c=n(324),l=n(5),u=(Object(i.a)((function(e){return Object(c.a)({root:{},item:{},itemText:{}})})),l.h.model("Store",{graph:r.b,location:l.h.optional(l.h.string,"/")}).actions((function(e){return{setLocation:function(t){e.location=t}}})).create({graph:r.b.create()})),s=o.a.createContext(u),d=function(e){var t=e.children;return o.a.createElement(s.Provider,{value:u},t)},f=n(167);function m(e){var t=o.a.useContext(s);if(t)return Object(f.a)((function(){return e(t)}));throw Error("Cannot use store before setup")}n(74)},74:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(99),o=n.n(a),r=n(46),i=n(21),c=n(144),l=n(5),u=n(145);function s(e){return d.apply(this,arguments)}function d(){return(d=Object(c.a)(o.a.mark((function e(t){var n,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new u.a("default"),a=Object.keys(Object(l.b)(t).properties),c=Object.fromEntries(a.map((function(e){return[e,"id"]}))),n.version(1).stores(c),e.abrupt("return",Promise.all(a.map((function(e){return n.table(e).toArray().then((function(t){return[e,Object.fromEntries(t.map((function(e){return[e.id,e]})))]}))}))).then((function(e){Object(l.a)(t,Object.fromEntries(e)),Object(l.g)(t,(function(e){var a=e.path.split("/").slice(1),o=Object(i.a)(a,3),c=o[0],u=o[1],s=o[2];if("add"===e.op)n.table(c).put(Object(l.c)(t[c].get(u)));else{if("replace"!==e.op&&"remove"!==e.op)throw Error("Unknown patch op '".concat(e.op,"'"));var d=t[c].get(u)[s];Object(l.f)(d)&&(d=Object(l.c)(d)),s?n.table(c).update(u,Object(r.a)({},s,d)):n.table(c).delete(u)}}))})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},83:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return w}));var a=n(5),o=n(28),r=a.h.model("Config",{name:a.h.maybe(a.h.string),items:a.h.map(o.c)}).actions((function(e){return{set:function(t,n){e.items.set(t,n)}}})).views((function(e){return{get:function(t){return e.items.get(t)}}})),i=n(0),c=n.n(i),l=n(312),u=n(313),s=n(326),d=n(314),f=n(315),m=n(316),g=n(317),h=n(153),p=n.n(h),v=n(100),b=n.n(v),E=n(82),y=n.n(E),j=n(15),w=function(){return Object(j.j)((function(e){var t;return c.a.createElement(o.a,null,c.a.createElement(l.a,{subheader:c.a.createElement(u.a,null,"Global")},c.a.createElement(s.a,null,c.a.createElement(d.a,null,c.a.createElement(b.a,null)),c.a.createElement(f.a,{id:"switch-list-label-dividers",primary:"Dividers"}),c.a.createElement(m.a,null,c.a.createElement(g.a,{disabled:!0,edge:"end",inputProps:{"aria-labelledby":"switch-list-label-list-dividers"}})))),c.a.createElement(l.a,{subheader:c.a.createElement(u.a,null,"Lists")},c.a.createElement(s.a,null,c.a.createElement(d.a,null,c.a.createElement(p.a,null)),c.a.createElement(f.a,{id:"switch-list-label-checkboxes",primary:"Checkboxes"}),c.a.createElement(m.a,null,c.a.createElement(g.a,{checked:null!==(t=e.listCheckboxSetting)&&void 0!==t&&t,onChange:function(){return e.toggleListCheckboxSetting()},edge:"end",inputProps:{"aria-labelledby":"switch-list-label-list-checkboxes"}}))),c.a.createElement(s.a,null,c.a.createElement(d.a,null,c.a.createElement(b.a,null)),c.a.createElement(f.a,{id:"switch-list-label-dividers",primary:"Dividers"}),c.a.createElement(m.a,null,c.a.createElement(g.a,{disabled:!0,edge:"end",inputProps:{"aria-labelledby":"switch-list-label-list-dividers"}}))),c.a.createElement(s.a,null,c.a.createElement(d.a,null,c.a.createElement(y.a,null)),c.a.createElement(f.a,{id:"switch-list-label-bluetooth",primary:"Show Extra Edge Types"}),c.a.createElement(m.a,null,c.a.createElement(g.a,{disabled:!0,edge:"end",inputProps:{"aria-labelledby":"switch-list-label-bluetooth"}})))))}))}}},[[176,1,2]]]);
//# sourceMappingURL=main.73d12e72.chunk.js.map