(this.webpackJsonpexuo=this.webpackJsonpexuo||[]).push([[0],{103:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(16),o=n(0),r=n.n(o),i=n(54),c=n(300),l=n(179),d=n(298),u=n(28),s=n(31),f=n(22),m=n(18),p=function(e){var t=e.id,n=r.a.useState(null),o=Object(a.a)(n,2),p=o[0],g=o[1],v=r.a.useState(!1),b=Object(a.a)(v,2),h=b[0],E=b[1],y=Object(u.c)();return Object(m.j)((function(e){return r.a.createElement(s.a,null,r.a.createElement(i.a,{align:"center"},"Someone wants to share content with you.",r.a.createElement("br",null),"Do not accept if you do not trust them."),r.a.createElement(c.a,{mt:1,textAlign:"center"},p?r.a.createElement(i.a,{color:"error"},p):r.a.createElement(l.a,{disabled:h,onClick:function(){E(!0),e.seekPeerConnection(t).then((function(e){y(Object(f.b)("/node/".concat(e.id)))})).catch((function(e){g(e)}))},color:"primary"},h?r.a.createElement(d.a,{size:24}):"Accept")))}))}},104:function(e,t){},150:function(e,t,n){"use strict";var a=n(103);n.d(t,"PeerConnector",(function(){return a.a}));n(104)},18:function(e,t,n){"use strict";n.d(t,"j",(function(){return o})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"b",(function(){return X})),n.d(t,"a",(function(){return q})),n.d(t,"c",(function(){return Y})),n.d(t,"d",(function(){return Me})),n.d(t,"e",(function(){return Ie})),n.d(t,"f",(function(){return Ue})),n.d(t,"g",(function(){return Ke}));var a=n(83),o=function(e){return Object(a.c)((function(t){return e(t.graph)}))},r=n(77),i=n(176),c=n(5),l=n(336),d=function(e){return c.h.model("EdgeMap",{edgeMap:c.h.map(c.h.array(c.h.safeReference(c.h.late(e),{acceptsUndefined:!1})))}).actions((function(e){return{hasEdge:function(t,n){var a,o;return n?Boolean(null===(a=e.edgeMap.get(t))||void 0===a?void 0:a.includes(n)):Boolean(null===(o=e.edgeMap.get(t))||void 0===o?void 0:o.length)}}})).actions((function(e){return{addEdge:function(t,n){var a;e.edgeMap.has(t)||e.edgeMap.set(t,[]),null===(a=e.edgeMap.get(t))||void 0===a||a.push(n)},removeEdge:function(t,n){var a;null===(a=e.edgeMap.get(t))||void 0===a||a.remove(n)}}})).views((function(e){return{getEdgeTag:function(t){return e.edgeMap.get(t)}}}))},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return c.h.compose.apply(c.h,Object(i.a)([c.h.model({id:c.h.identifier})].concat(e))).named("Node")},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c.h.model("Graph",Object.fromEntries(Object.keys(e).map((function(t){var n=e[t];if(Object(c.e)(n)&&Object(c.d)(n.properties.id))return[t,c.h.map(e[t])];throw Error("Model '".concat(t,"' requires 'id' identifier"))})))).actions((function(n){return{createNode:function(){var a,o,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Node",c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e[i])throw Error("No model named '".concat(i,"'"));var d=e[i].create(Object(r.a)({id:null!==(a=null===(o=t.getId)||void 0===o?void 0:o.call(t))&&void 0!==a?a:Object(l.a)()},c));return n[i].put(d),d}}}))},f=u(d((function(){return f}))),m=(s({Node:f}),n(16)),p=n(37),g=n(76),v=n(84),b=c.h.model("NoteBody",{content:c.h.maybe(c.h.string),mimeType:c.h.string}),h=c.h.model("Note",{label:c.h.string,body:b}).actions((function(e){return{setLabel:function(t){e.label=t},setBody:function(t){e.body.content=t},setMimeType:function(t){e.body.mimeType=t}}})),E=n(0),y=n.n(E),N=(n(324),n(179)),j=n(321),O=n(340),w=n(323),k=n(300),C=n(158),x=n.n(C),M=n(157),S=n.n(M),B=n(159),I=n.n(B),A=n(160),T=n.n(A),L=n(161),P=n.n(L),R=n(162),W=n.n(R),z=n(155),D=n.n(z),G=n(156),U=n.n(G);n(38),n(143),D.a,U.a,S.a,x.a,I.a,T.a,P.a,W.a;Object(j.a)((function(e){return Object(O.a)({root:{},input:{height:"300px",padding:e.spacing(0,2,0,2)},toolbar:{padding:e.spacing(0,2,0,2)}})}));var K=u(v.a),F=u(h),V=u([d((function(){return c.h.union(c.h.late((function(){return V})),K,F)}))]).props({label:c.h.optional(c.h.string,"")}).actions((function(e){return{setLabel:function(t){e.label=t}}})).views((function(e){return{get childCount(){var t,n;return null!==(t=null===(n=e.edgeMap.get("child"))||void 0===n?void 0:n.length)&&void 0!==t?t:0},get createDate(){var t;return null===(t=e.events[0])||void 0===t?void 0:t.date}}})),X=s({Node:V,Config:K,Note:F}).actions((function(e){return{setActiveMode:function(t){var n=e.Config.get("system").get("activeModes");n&&!(null===n||void 0===n?void 0:n.includes(t))&&n.push(t)},unsetActiveMode:function(t){var n=e.Config.get("system").get("activeModes");(null===n||void 0===n?void 0:n.includes(t))&&n.remove(t)},toggleActiveMode:function(t){var n=e.Config.get("system").get("activeModes");n&&(n.includes(t)?(n.remove(t),"select"===t&&e.clearSelectedNodes()):(n.push(t),"select"===t&&n.remove("edit"),"edit"===t&&n.remove("select")))}}})).actions((function(e){return{toggleSelectNode:function(t){var n=e.Config.get("system").get("selectedNodes");if(n){var a=n.get(e.cursorNode.id);a?a.includes(t.id)?(a.remove(t.id),0===a.length&&n.delete(e.cursorNode.id)):a.push(t.id):n.set(e.cursorNode.id,[t.id]),0===n.size&&e.unsetActiveMode("select")}},clearSelectedNodes:function(){var t;null===(t=e.Config.get("system").get("selectedNodes"))||void 0===t||t.clear(),0===e.selectedNodes.size&&e.unsetActiveMode("select")},deleteSelectedNodes:function(){e.selectedNodes.forEach((function(t){return t.forEach((function(t){return e.Node.delete(t)}))})),e.clearSelectedNodes()},moveSelectedNodes:function(){var t,n=Object(p.a)(e.selectedNodes);try{for(n.s();!(t=n.n()).done;){var a,o=Object(m.a)(t.value,2),r=o[0],i=o[1],c=e.Node.get(r),l=Object(p.a)(i);try{for(l.s();!(a=l.n()).done;){var d=a.value,u=e.Node.get(d);u&&(u.removeEdge("parent",c),c.removeEdge("child",d),u.addEdge("parent",e.cursorNode),e.cursorNode.addEdge("child",u))}}catch(s){l.e(s)}finally{l.f()}}}catch(s){n.e(s)}finally{n.f()}e.clearSelectedNodes()},copySelectedNodes:function(){},linkSelectedNodes:function(){var t,n=Object(p.a)(e.selectedNodes.values());try{for(n.s();!(t=n.n()).done;){var a,o=t.value,r=Object(p.a)(o);try{for(r.s();!(a=r.n()).done;){var i=a.value,c=e.Node.get(i);c&&(c.addEdge("parent",e.cursorNode),e.cursorNode.addEdge("child",c))}}catch(l){r.e(l)}finally{r.f()}}}catch(l){n.e(l)}finally{n.f()}e.clearSelectedNodes()},unlinkSelectedNodes:function(){var t,n=Object(p.a)(e.selectedNodes);try{for(n.s();!(t=n.n()).done;){var a,o=Object(m.a)(t.value,2),r=o[0],i=o[1],c=e.Node.get(r),l=Object(p.a)(i);try{for(l.s();!(a=l.n()).done;){var d=a.value,u=e.Node.get(d);u&&(u.removeEdge("parent",c),c.removeEdge("child",u))}}catch(s){l.e(s)}finally{l.f()}}}catch(s){n.e(s)}finally{n.f()}e.clearSelectedNodes()},removeSelectedNodes:function(){var t,n=Object(p.a)(e.selectedNodes);try{for(n.s();!(t=n.n()).done;){var a,o=Object(m.a)(t.value,2),r=o[0],i=o[1],c=e.Node.get(r),l=Object(p.a)(i);try{for(l.s();!(a=l.n()).done;){var d=a.value,u=e.Node.get(d);u&&(u.removeEdge("parent",c),c.removeEdge("child",u),0===u.edgeMap.get("parent").size&&e.deleteNode(u))}}catch(s){l.e(s)}finally{l.f()}}}catch(s){n.e(s)}finally{n.f()}e.clearSelectedNodes()},setCursorNode:function(t){var n;null===(n=e.Config.get("system"))||void 0===n||n.set("cursorNodeId",t.id)}}})).actions((function(e){return{afterCreate:function(){Object(g.a)(e).then((function(){var t,n,a=e.rootNode;a||(a=e.createNode("Node",{label:"Exuo"}));var o=null!==(t=null===(n=e.Config.get("system"))||void 0===n?void 0:n.get("cursorNodeId"))&&void 0!==t?t:"";Object(c.a)(e.Config,{system:{id:"system",items:{cursorNodeId:o,rootNodeId:a.id,activeModes:[],selectedNodes:{}}},user:{id:"user",items:{global:{},lists:{}}}})}))},createChild:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Node",o=e.createNode(a,n);return t.addEdge("child",o),o.addEdge("parent",t),o},deleteNode:function(t){e.Node.delete(t.id)}}})).views((function(e){return{get rootNode(){var t=e.Config.get("system");return t&&e.Node.get(t.get("rootNodeId"))},get cursorNode(){var t=e.Config.get("system");return t&&e.Node.get(t.get("cursorNodeId"))},get activeModes(){var t=e.Config.get("system");return null===t||void 0===t?void 0:t.get("activeModes")},get selectedNodes(){var t;return null===(t=e.Config.get("system"))||void 0===t?void 0:t.get("selectedNodes")}}})),H=n(325),J=Object(j.a)((function(e){return Object(O.a)({list:{}})})),q=function(e){var t=e.node,n=e.edgeTag,a=(e.className,J());return o((function(e){var o;return y.a.createElement(H.a,{"aria-label":"edge list",className:a.list},null===(o=t.edgeMap.get(n))||void 0===o?void 0:o.slice().reverse().map((function(e){return y.a.createElement(Ue,{node:e,key:"".concat(n,"-").concat(e.id)})})))}))},$=n(337),Q=Object(j.a)((function(e){return Object(O.a)({root:{width:"100%",fontSize:0,padding:0},inputBase:{padding:0,"& input, & textarea":{padding:"3px 0 2px 0"}}})})),Y=function(e){var t=e.label,n=(e.createMode,e.placeholder),a=e.className,r=e.onValue,i=y.a.useRef(),c=Q(),l=y.a.useState(null!==t&&void 0!==t?t:""),d=Object(m.a)(l,2),u=d[0],s=d[1];return y.a.useEffect((function(){var e;null===(e=i.current)||void 0===e||e.setSelectionRange(u.length,u.length)})),o((function(e){var t=function(e){r&&s((null===r||void 0===r?void 0:r(u,e))||"")},o=function(e){e.preventDefault(),t()};return y.a.createElement("form",{onSubmit:o,onBlur:o,className:[c.root,a].join(" ")},y.a.createElement($.a,{inputRef:i,autoFocus:!0,multiline:!0,fullWidth:!0,placeholder:n,value:u,onKeyDown:function(e){13!==e.keyCode||e.shiftKey||(e.preventDefault(),t(e))},onChange:function(e){s(e.target.value)},inputProps:{"aria-label":"label"},className:c.inputBase}))}))};Y.defaultProps={createMode:!1,placeholder:"Label"};var Z=n(170),_=n.n(Z),ee=n(171),te=n.n(ee),ne=n(172),ae=n.n(ne),oe=n(28),re=n(22),ie=n(31),ce=n(330),le=n(339),de=n(331),ue=n(296),se=n(341),fe=n(332),me=n(164),pe=n.n(me),ge=n(169),ve=n.n(ge),be=n(168),he=n.n(be),Ee=n(166),ye=n.n(Ee),Ne=n(167),je=n.n(Ne),Oe=n(163),we=n.n(Oe),ke=Object(j.a)((function(e){return Object(O.a)({root:{display:"inherit"},buttonGroup:{color:"inherit","& .MuiButtonGroup-groupedTextHorizontal":{borderRight:"unset"},"& .MuiButtonGroup-grouped":{minWidth:"unset"}},selectButton:{color:"inherit",paddingRight:e.spacing(1)/2},dropButton:{color:"inherit",padding:0},deleteButton:{color:e.palette.error.main},popper:{"& svg":{marginRight:e.spacing(1)}}})})),Ce=function(e){var t=e.node,n=e.className,a=e.onClick,r=ke(),i=y.a.useState(!1),c=Object(m.a)(i,2),l=c[0],d=c[1],u=y.a.useRef(null);return o((function(e){return y.a.createElement("div",{className:[r.root,n].join(" ")},y.a.createElement(ce.a,{variant:"text",ref:u,"aria-label":"split button",className:r.buttonGroup},y.a.createElement(N.a,{startIcon:y.a.createElement(we.a,null),onClick:a,className:r.selectButton},"select"),y.a.createElement(N.a,{size:"small",disabled:0===e.selectedNodes.size,"aria-controls":l?"select-button":void 0,"aria-expanded":l?"true":void 0,"aria-label":"select merge strategy","aria-haspopup":"menu",onClick:function(){return d((function(e){return!e}))},className:r.dropButton},y.a.createElement(pe.a,null))),y.a.createElement(le.a,{open:l,anchorEl:u.current,role:void 0,disablePortal:!0,className:r.popper},(function(n){n.placement;return e.setCursorNode(t),y.a.createElement(de.a,{onClickAway:function(){return d(!1)}},y.a.createElement(ue.a,null,y.a.createElement(se.a,{id:"select-button"},y.a.createElement(fe.a,{onClick:function(){e.moveSelectedNodes(),d(!1)}},y.a.createElement(ye.a,null),"Move here"),y.a.createElement(fe.a,{disabled:!0,onClick:function(){d(!1)}},y.a.createElement(je.a,null),"Copy here"),y.a.createElement(fe.a,{divider:!0,onClick:function(){e.linkSelectedNodes(),d(!1)}},y.a.createElement(he.a,null),"Link here"),y.a.createElement(fe.a,{onClick:function(){e.removeSelectedNodes(),d(!1)},className:r.deleteButton},y.a.createElement(ve.a,null),"Remove"))))})))}))},xe=Object(j.a)((function(e){return Object(O.a)({root:{justifyContent:"center"},button:{color:e.palette.text.primary},toggledButton:{color:e.palette.primary.main},labelEditor:{width:"100%"}})})),Me=function(e){var t=e.node,n=e.className,a=xe(),r=y.a.useState("normal"),i=Object(m.a)(r,2),c=i[0],l=i[1],d=Object(oe.c)();return o((function(e){var o,r=t.childCount>0,i=null!==(o=e.selectedNodes.size)&&void 0!==o?o:0;return y.a.createElement(w.a,{variant:"dense",className:[a.root,n].join(" ")},"normal"===c&&y.a.createElement(y.a.Fragment,null,y.a.createElement(N.a,{startIcon:y.a.createElement(_.a,null),onClick:function(){l("add")},className:a.button},"new"),r&&y.a.createElement(N.a,{startIcon:y.a.createElement(te.a,null),onClick:function(){return e.toggleActiveMode("edit")},className:[a.button,e.activeModes.includes("edit")?a.toggledButton:""].join(" ")},"edit"),(r||i>0)&&y.a.createElement(Ce,{node:t,onClick:function(){e.setCursorNode(t),e.toggleActiveMode("select")},className:[a.button,e.activeModes.includes("select")?a.toggledButton:""].join(" ")}),Object(ie.d)()||y.a.createElement(N.a,{disabled:!0,startIcon:y.a.createElement(ae.a,null),onClick:function(){e.activeModes.includes("share")?e.closePeerConnection():e.offerPeerConnection(t)},color:e.activeModes.includes("share")?"primary":"default",className:a.button},"share")),"add"===c&&y.a.createElement(Y,{placeholder:"Label",onValue:function(n,a){if(n){var o=e.createChild(t,{label:n});return(null===a||void 0===a?void 0:a.ctrlKey)&&d(Object(re.b)("/node/".concat(o.id,"/"))).then((function(){l("add")})),""}l("normal")},className:a.labelEditor}))}))},Se=n(322),Be=Object(j.a)((function(e){return Object(O.a)({root:{},actions:{color:e.palette.text.secondary,backgroundColor:e.palette.background.default,padding:e.spacing(0,2,0,2)},children:{marginTop:-e.spacing(1)}})})),Ie=function(e){var t=e.node,n=e.className,a=e.children,r=Be();return o((function(e){return y.a.createElement(k.a,{className:[r.root,n].join(" ")},y.a.createElement(Se.a,{elevation:0,position:"sticky"},y.a.createElement(ie.b,{title:t.label}),y.a.createElement(Me,{node:t,className:r.actions})),y.a.createElement(k.a,{className:r.children},a))}))},Ae=n(85),Te=n(48),Le=n(301),Pe=n(328),Re=n(329),We=n(173),ze=n.n(We),De=n(14),Ge=Object(j.a)((function(e){return Object(O.a)({root:{},listItem:Object(Te.a)({marginBottom:"1px","&:hover":{color:e.palette.primary.main},"&.editMode:hover":{cursor:"text",color:"unset"},"&.MuiListItem-button":{backgroundColor:"unset"},"&.isSelected":{backgroundColor:Object(De.b)(e.palette.primary.main,.3),"&:hover":{color:"unset"},"& a:hover":{color:"unset"}}},e.breakpoints.up("sm"),{borderRadius:e.shape.borderRadius}),itemText:{margin:0,overflowX:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis","& .MuiListItemText-primary":{display:"inline"},"& .MuiListItemText-secondary":{display:"inline",paddingLeft:e.spacing(1)},"&.expand":{"& .MuiListItemText-secondary":{display:"block",paddingLeft:0}}},listItemSelectCheckbox:{padding:e.spacing(0,1,0,1),"&:hover, &.Mui-checked:hover":{backgroundColor:"unset"}},listItemIcon:{minWidth:"auto"},editItemText:Object(r.a)({display:"inline-block",margin:0,overflowX:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},e.typography.body1),secondaryActions:{right:0},childButton:{color:e.palette.text.primary,minWidth:"unset",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),"&:hover, &:focus":{color:e.palette.primary.main,background:"inherit"}}})})),Ue=function(e){var t=e.node,n=e.expandSecondaryTypography,a=(Object(Ae.a)(e,["node","expandSecondaryTypography"]),Ge()),r=Object(oe.c)(),i=y.a.useState(!1),c=Object(m.a)(i,2),l=c[0],d=c[1];return o((function(e){var o,i=null===(o=e.selectedNodes.get(e.cursorNode.id))||void 0===o?void 0:o.includes(t.id),c=t.label.indexOf("\n");return y.a.createElement(Le.a,{button:!0,disableRipple:!0,component:"li",onClick:function(n){n.preventDefault(),e.activeModes.includes("select")?e.toggleSelectNode(t):e.activeModes.includes("edit")?d(!0):n.metaKey||n.ctrlKey?(e.toggleActiveMode("select"),e.toggleSelectNode(t)):(e.setCursorNode(t),r(Object(re.b)("/node/".concat(t.id,"/"))))},className:[a.listItem,e.activeModes.includes("edit")?"editMode":"",i?"isSelected":""].join(" ")},l?y.a.createElement(Y,{label:t.label,onValue:function(e){d(!1),e&&t.setLabel(e)}}):y.a.createElement(Pe.a,{primary:c>0?t.label.slice(0,c):t.label,secondary:c>0?t.label.slice(c+1):void 0,className:[a.itemText,n?"expand":""].join(" ")}),y.a.createElement(Re.a,{className:a.secondaryActions},(t.childCount>0||e.activeModes.includes("select"))&&y.a.createElement(N.a,{to:Object(re.b)("/node/".concat(t.id,"/")),component:oe.a,onClick:function(){return e.setCursorNode(t)},className:a.childButton,endIcon:y.a.createElement(ze.a,null),size:"small"},t.childCount>0&&t.childCount)))}))};Ue.defaultProps={expandSecondaryTypography:!0};var Ke=function(e){var t=e.id;return o((function(e){var n=e.rootNode,a=e.Node.get(t);return a&&(n=a),n?y.a.createElement(Ie,{node:n},y.a.createElement(q,{node:n,edgeTag:"child"})):null}))}},184:function(e,t,n){e.exports=n(294)},22:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return f}));var a=n(85),o=n(0),r=n.n(o),i=n(28),c=n(18),l=n(150),d=n(84);function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"/exuo"+e}var s=function(e){var t=e.component,n=Object(a.a)(e,["component"]);return r.a.createElement(t,n)},f=function(){return Object(c.j)((function(e){return e.rootNode?r.a.createElement(i.b,{basepath:"/exuo"},r.a.createElement(s,{path:"/",component:c.g}),r.a.createElement(s,{path:":type/:id",component:c.g}),r.a.createElement(s,{path:"peer/:id",component:l.PeerConnector}),r.a.createElement(s,{path:"settings",component:d.b})):null}))}},294:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(19),i=n.n(r),c=(n(189),n(83)),l=n(175),d=n(334),u=n(333),s=n(335),f=function(e){var t=e.children,n=Object(u.a)("(prefers-color-scheme: dark)"),a=o.a.useMemo((function(){return Object(l.a)({typography:{fontFamily:["-apple-system","system-ui","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif"].join(", ")},palette:{type:n?"dark":"light",primary:{main:"#f94d94"},background:{default:n?"#000000":"#ffffff"},text:{primary:n?"rgba(255, 255, 255, .8)":"rgba(0, 0, 0, .8)",secondary:n?"rgba(255, 255, 255, .42)":"rgba(0, 0, 0, .42)"}},shape:{borderRadius:6},props:{MuiButton:{disableElevation:!0},MuiButtonGroup:{disableElevation:!0}},overrides:{MuiCssBaseline:{"@global":{html:{userSelect:"none",overscrollBehavior:"none","-webkit-touch-callout":"none",maxWidth:"600px",margin:"auto","&, & body":{height:"100%"}}}}}})}),[n]);return o.a.createElement(d.a,{theme:a},o.a.createElement(s.a,null),t)},m=n(22),p=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function g(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(c.a,null,o.a.createElement(f,null,o.a.createElement(m.a,null)))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/exuo",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/exuo","/service-worker.js");p?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):g(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):g(t,e)}))}}()},31:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return O})),n.d(t,"d",(function(){return w}));var a=n(0),o=n.n(a),r=n(300),i=n(322),c=n(321),l=n(340),d=Object(c.a)((function(e){return Object(l.a)({root:{},appBar:{},actions:{width:"100%",color:e.palette.text.secondary,backgroundColor:e.palette.background.default,padding:e.spacing(0,2,0,2)},children:{}})})),u=function(e){var t=e.title,n=e.actions,a=e.className,c=e.children,l=d();return o.a.createElement(r.a,{className:[l.root,a].join(" ")},o.a.createElement(i.a,{elevation:0,position:"sticky",className:l.appBar},o.a.createElement(O,{title:t}),n),o.a.createElement(r.a,{className:l.children},c))},s=n(5),f=s.h.union(s.h.null,s.h.boolean,s.h.string,s.h.number,s.h.array(s.h.late((function(){return f}))),s.h.map(s.h.late((function(){return f})))),m=n(323),p=n(324),g=n(54),v=n(151),b=n.n(v),h=n(152),E=n.n(h),y=n(28),N=n(22),j=Object(c.a)((function(e){return Object(l.a)({root:{color:e.palette.text.secondary,backgroundColor:e.palette.background.default,padding:e.spacing(0,2,0,2)},backButton:{"&[disabled]":{visibility:"hidden",pointerEvents:"none"}},hide:{visibility:"hidden",mouseEvents:"none"},settingsButton:{},title:{flexGrow:1,textAlign:"center",overflowX:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",color:e.palette.text.primary}})})),O=function(e){var t,n=e.title,a=e.showBackButton,r=e.showSettingsButton,i=e.className,c=(e.children,j()),l=null!==(t=null===n||void 0===n?void 0:n.indexOf("\n"))&&void 0!==t?t:-1;return o.a.createElement(m.a,{variant:"dense",className:[c.root,i].join(" ")},o.a.createElement(p.a,{disabled:w(),edge:"start","aria-label":"back",onClick:function(){return window.history.back()},className:[c.backButton,a?"":c.hide].join(" ")},o.a.createElement(b.a,null)),n&&o.a.createElement(g.a,{variant:"h6",className:c.title},l>0?n.slice(0,n.indexOf("\n")):n),o.a.createElement(p.a,{disabled:!0,edge:"end",component:y.a,to:Object(N.b)("/settings"),"aria-label":"settings",className:[c.settingsButton,r?"":c.hide].join(" ")},o.a.createElement(E.a,{fontSize:"small"})))};O.defaultProps={title:"Exuo",showBackButton:!0,showSettingsButton:!1};var w=function(){return window.location.pathname===Object(N.b)("/")||window.location.pathname===Object(N.b)()}},76:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(98),o=n.n(a),r=n(48),i=n(16),c=n(144),l=n(5),d=n(145);function u(e){return s.apply(this,arguments)}function s(){return(s=Object(c.a)(o.a.mark((function e(t){var n,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new d.a("default"),a=Object.keys(Object(l.b)(t).properties),c=Object.fromEntries(a.map((function(e){return[e,"id"]}))),n.version(1).stores(c),e.abrupt("return",Promise.all(a.map((function(e){return n.table(e).toArray().then((function(t){return[e,Object.fromEntries(t.map((function(e){return[e.id,e]})))]}))}))).then((function(e){Object(l.a)(t,Object.fromEntries(e)),Object(l.g)(t,(function(e){var a=e.path.split("/").slice(1),o=Object(i.a)(a,3),c=o[0],d=o[1],u=o[2];if("add"===e.op)n.table(c).put(Object(l.c)(t[c].get(d)));else{if("replace"!==e.op&&"remove"!==e.op)throw Error("Unknown patch op '".concat(e.op,"'"));if(u){var s=t[c].get(d)[u];Object(l.f)(s)&&(s=Object(l.c)(s)),n.table(c).update(d,Object(r.a)({},u,s))}else n.table(c).delete(d)}}))})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},83:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return m}));var a=n(0),o=n.n(a),r=n(18),i=(n(325),n(301),n(328),n(321)),c=n(340),l=n(5),d=(Object(i.a)((function(e){return Object(c.a)({root:{},item:{},itemText:{}})})),l.h.model("Store",{graph:r.b,location:l.h.optional(l.h.string,"/")}).actions((function(e){return{setLocation:function(t){e.location=t}}})).create({graph:r.b.create()})),u=o.a.createContext(d),s=function(e){var t=e.children;return o.a.createElement(u.Provider,{value:d},t)},f=n(174);function m(e){var t=o.a.useContext(u);if(t)return Object(f.a)((function(){return e(t)}));throw Error("Cannot use store before setup")}n(76)},84:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return j}));var a=n(5),o=n(31),r=a.h.model("Config",{name:a.h.maybe(a.h.string),items:a.h.map(o.c)}).actions((function(e){return{set:function(t,n){e.items.set(t,n)}}})).views((function(e){return{get:function(t){return e.items.get(t)}}})),i=n(0),c=n.n(i),l=n(325),d=n(326),u=n(301),s=n(327),f=n(328),m=n(329),p=n(338),g=n(153),v=n.n(g),b=n(99),h=n.n(b),E=n(154),y=n.n(E),N=n(18),j=function(){return Object(N.j)((function(e){var t;return c.a.createElement(o.a,null,c.a.createElement(l.a,{subheader:c.a.createElement(d.a,null,"Global")},c.a.createElement(u.a,null,c.a.createElement(s.a,null,c.a.createElement(h.a,null)),c.a.createElement(f.a,{id:"switch-list-label-dividers",primary:"Dividers"}),c.a.createElement(m.a,null,c.a.createElement(p.a,{disabled:!0,edge:"end",inputProps:{"aria-labelledby":"switch-list-label-list-dividers"}})))),c.a.createElement(l.a,{subheader:c.a.createElement(d.a,null,"Lists")},c.a.createElement(u.a,null,c.a.createElement(s.a,null,c.a.createElement(v.a,null)),c.a.createElement(f.a,{id:"switch-list-label-checkboxes",primary:"Checkboxes"}),c.a.createElement(m.a,null,c.a.createElement(p.a,{checked:null!==(t=e.listCheckboxSetting)&&void 0!==t&&t,onChange:function(){return e.toggleListCheckboxSetting()},edge:"end",inputProps:{"aria-labelledby":"switch-list-label-list-checkboxes"}}))),c.a.createElement(u.a,null,c.a.createElement(s.a,null,c.a.createElement(h.a,null)),c.a.createElement(f.a,{id:"switch-list-label-dividers",primary:"Dividers"}),c.a.createElement(m.a,null,c.a.createElement(p.a,{disabled:!0,edge:"end",inputProps:{"aria-labelledby":"switch-list-label-list-dividers"}}))),c.a.createElement(u.a,null,c.a.createElement(s.a,null,c.a.createElement(y.a,null)),c.a.createElement(f.a,{id:"switch-list-label-bluetooth",primary:"Show Extra Edge Types"}),c.a.createElement(m.a,null,c.a.createElement(p.a,{disabled:!0,edge:"end",inputProps:{"aria-labelledby":"switch-list-label-bluetooth"}})))))}))}}},[[184,1,2]]]);
//# sourceMappingURL=main.41585bf8.chunk.js.map